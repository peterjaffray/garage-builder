# air.conf - Live reload config for backend Go server

# Working directory inside the container
root = "." 
testdata_dir = "testdata"
tmp_dir = "tmp"

# Build settings
[build]
  # Just build the binary
  cmd = "go build -o ./tmp/main ./cmd/server"
  # Binary to run
  bin = "tmp/main"
  # Full path to binary (leave empty to use bin)
  full_bin = ""
  # Watch these file extensions
  include_ext = ["go", "tpl", "tmpl", "html"]
  # Exclude these directories
  exclude_dir = ["assets", "tmp", "vendor", "testdata"]
  # Include these directories
  include_dir = []
  # Exclude these files
  exclude_file = []
  # Watch these directories
  exclude_regex = ["_test.go"]
  # Exclude unchanged files
  exclude_unchanged = false
  # Follow symlinks
  follow_symlink = false
  # Build log file
  log = ""
  # Polling interval
  poll = false
  # Poll interval (defaults to 500ms)
  poll_interval = 0
  # Stop running old binary when build errors occur
  stop_on_error = true
  # Send interrupt signal before killing process
  send_interrupt = false
  # Delay after sending interrupt signal
  kill_delay = "0s"
  # Rerun binary even when it exits successfully
  rerun = false
  # Delay after each execution
  rerun_delay = 500
  # Add additional arguments when running binary
  args_bin = []
  # Environment variables
  [build.env]
    CGO_ENABLED = "0"
    GO111MODULE = "on"

# Log colors (optional)
[color]
  main = "magenta"
  watcher = "cyan"
  build = "green"
  runner = "yellow"

# Enable better output on file changes
[log]
  time = true
